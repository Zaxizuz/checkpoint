void enable_syscalls(){

 *(unsigned char *)$D02F = $47;
 *(unsigned char *)$D02F = $53;
 
}
 
void call_syscall00(){

	enable_syscalls();
	*(unsigned char *)$D640 = $01;
	asm { nop }

}

void call_syscall01(){
  enable_syscalls();
	*(unsigned char*)$D641 = $01;
	asm { nop }

} 
void print_string(char[] message){
	enable_syscalls();
	*(unsigned char*)$D642 = $01;
	
	volatile unsigned char* sc = $0300;
  char* msg = message;

  while(*msg){
    *sc++ = *msg++;
  }

	asm { nop }
}